<div class="card shadow dash-cardbox">
    <div class="card-header">
        <div class="row align-items-center">
            <div class="col pl-1">
                <h3 class="mb-0">Current Month Completed Loan List</h3>
            </div>
        </div>
    </div>
    <table class="table align-items-center table-flush mydata-table">
        <thead class="thead-light">
            <tr>
                <th class="col id_col text-center">CNo.</th>
                <th class="col">Customer Name</th>
                <th class="col">Collect Member</th>
                <th class="col mobile_col">Mobile</th>
                <th class="col date_col">Date</th>
                <th class="col amount_col">Total Amount</th>
                <th class="col amount_col">Pending Amount</th>
                <th class="col status_col">Status</th>
                <th class="col action_col">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngIf="loader">
                <td colspan="9">
                    <app-page-loader></app-page-loader>
                </td>
            </tr>
            <tr *ngIf="loanData.length == 0 && !loader">
                <td colspan="9">
                    <app-no-record-found type="table" notext="No Loan Found."></app-no-record-found>
                </td>
            </tr>
            <tr *ngFor="let loan of loanData">
                <td class="col text-center" data-name="CNo.">{{loan.customer?.customer_no}}</td>
                <td class="col" data-name="Customer">{{loan.customer?.name}}</td>
                <td class="col" data-name="Collect Member">{{loan.member?.name}}</td>
                <td class="col" data-name="Mobile">{{loan.customer?.mobile}}</td>
                <td class="col" data-name="Date">{{loan.apply_date}}</td>
                <td class="col text-right" data-name="Total Amount"><i
                        class="mdi mdi-currency-inr mr-1"></i>{{loan.loan_amount}}</td>
                <td class="col text-right" data-name="Pending Amount"><i
                        class="mdi mdi-currency-inr mr-1"></i>{{loan.remaining_amount}}</td>
                <td class="col text-center" data-name="Status">
                    <div class="badge bg-success text-white">{{loan.loan_status}}</div>
                </td>
                <td class="action_col" data-name="Action">
                    <div placement="bottom-right">
                        <button mat-icon-button class="matmenu_tablebtn" [matMenuTriggerFor]="menuTable">
                            <mat-icon>more_vert</mat-icon>
                        </button>
                        <mat-menu #menuTable="matMenu">
                            <div class="table_actionmenu">
                                <button mat-menu-item (click)="openDialogLoanHistory(loan)">
                                    <i class="mdi mdi-history mr-2"></i>
                                    <span>Loan History</span>
                                </button>
                                <button mat-menu-item (click)="openDialogViewDetails(loan)">
                                    <i class="mdi mdi-eye mr-2"></i>
                                    <span>View Details</span>
                                </button>
                            </div>
                        </mat-menu>
                    </div>
                </td>
            </tr>

        </tbody>
    </table>
</div>
<div class="card shadow dash-cardbox">
    <div class="card-header">
        <div class="row align-items-center">
            <div class="col col-sm-4 pl-1">
                <h3 class="mb-0">Apply new loan list</h3>
            </div>
        </div>
    </div>
    <table class="table align-items-center table-flush mydata-table">
        <thead class="thead-light">
            <tr>
                <th class="col id_col">CNo.</th>
                <th class="col">Customer Name</th>
                <th class="col">Apply By</th>
                <th class="col mobile_col">Mobile</th>
                <th class="col date_col">Apply Date</th>
                <th class="col">Amount</th>
                <th class="col status_col">Status</th>
                <th class="col action_col">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngIf="loader">
                <td colspan="8">
                    <app-page-loader></app-page-loader>
                </td>
            </tr>
            <tr *ngIf="newLoanData.length == 0 && !loader">
                <td colspan="8">
                    <app-no-record-found type="table" notext="No Loan Found."></app-no-record-found>
                </td>
            </tr>
            <tr *ngFor="let loan of newLoanData">
                <td class="col text-center" data-name="CNo.">{{loan.customer?.customer_no}}</td>
                <td class="col" data-name="Customer">{{loan.customer?.name}}</td>
                <td class="col" data-name="Apply By">{{loan.customer?.apply_by}}</td>
                <td class="col" data-name="Mobile">{{loan.customer?.mobile}}</td>
                <td class="col" data-name="Apply Date"><small>{{loan.customer?.apply_date}}</small></td>
                <td class="col text-right" data-name="Amount"><i
                        class="mdi mdi-currency-inr mr-1"></i>{{loan.loan_amount}}</td>
                <td class="col text-center" data-name="Status">
                    <div class="badge bg-warning text-white">{{loan.loan_status}}</div>
                </td>
                <td class="action_col" data-name="Action">
                    <div placement="bottom-right">
                        <button mat-icon-button class="matmenu_tablebtn" [matMenuTriggerFor]="menu">
                            <mat-icon>more_vert</mat-icon>
                        </button>
                        <mat-menu #menu="matMenu">
                            <div class="table_actionmenu">
                                <button mat-menu-item (click)="openDialogActionForLoan(loan)">
                                    <i class="mdi mdi-message mr-2"></i>
                                    <span>Action For Loan</span>
                                </button>
                                <button mat-menu-item (click)="openDialogViewDetails(loan)">
                                    <i class="mdi mdi-eye mr-2"></i>
                                    <span>View Details</span>
                                </button>

                            </div>
                        </mat-menu>

                    </div>
                </td>
            </tr>

        </tbody>
    </table>
</div>