<div class="dialoge_header">
    <div class="left_text" *ngIf="!fixedDepositId">{{dataa.title}}</div>
    <div class="left_text" *ngIf="fixedDepositId">{{dataa.title}}</div>
    <mat-icon class="close-icon" (click)="onClose()" color="warn">close</mat-icon>
</div>
<div class="dialoge_middle_container full_height_cover">
    <form focusInvalidInput [formGroup]="fixedDepositForm">
        <div class="modal_insert">
            <div class="row">
                <div class="col-sm-12">
                    <mat-form-field class="global_dropdown" appearance="outline">
                        <mat-label>Available Customer - {{customerListData.length}}</mat-label>
                        <mat-icon class="arrow_icon">keyboard_arrow_down</mat-icon>
                        <mat-select [formControl]="selectControl">
                            <mat-option *ngFor="let customerdata of customerListData; let i =index"
                                [value]="customerdata.id">
                                <div class="customer_data_row">
                                    <span class="image_block">
                                        <img src="{{customerdata.image}}" onerror="this.src='assets/imgs/default-pic.png';" >
                                    </span>
                                    <span class="other_details">
                                        {{customerdata?.name}} - {{customerdata?.mobile}} - {{customerdata?.customer_no}} 
                                    </span>
                                    <span class="badge bg-success text-white" [ngClass]="customerdata.status == 'active' ? 'bg-success' : 'bg-danger'" >{{customerdata.status}}</span>
                                    <!-- <span class="badge bg-danger text-white "
                                        *ngIf="customerdata.status == 'inactive'">{{customerdata.status}}</span>
                                    <span class="status">{{customerdata?.status}}</span> -->
                                </div>
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <mat-form-field class="global_textbox_block" appearance="outline">
                        <mat-label>Fixed Deposite Name</mat-label>
                        <input matInput required formControlName="fixed_deposit_name" name="fixed_deposit_name">
                        <app-input-field-validation [className]="'bottom_error_msg'" [form]="fixedDepositForm"
                            [key]="'fixed_deposit_name'" [displayMsg]="'Fixed deposit name is required'">
                        </app-input-field-validation>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <mat-form-field class="global_textbox_block" appearance="outline">
                        <mat-label>Start Date</mat-label>
                        <input type="date" matInput required formControlName="start_date" name="start_date" />
                        <app-input-field-validation [className]="'bottom_error_msg'" [form]="fixedDepositForm"
                            [key]="'start_date'" [displayMsg]="'Start date is required'">
                        </app-input-field-validation>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <mat-form-field class="global_textbox_block" appearance="outline">
                        <mat-label>End Date</mat-label>
                        <input type="date" matInput required formControlName="end_date" name="end_date" />
                        <app-input-field-validation [className]="'bottom_error_msg'" [form]="fixedDepositForm"
                            [key]="'end_date'" [displayMsg]="'End date is required'">
                        </app-input-field-validation>
                    </mat-form-field>
                </div>
                <div class="col-sm-4">
                    <mat-form-field class="global_textbox_block" appearance="outline">
                        <mat-label>Deposit Amount</mat-label>
                        <input matInput required formControlName="start_amount" name="start_amount" />
                        <app-input-field-validation [className]="'bottom_error_msg'" [form]="fixedDepositForm"
                            [key]="'start_amount'" [displayMsg]="'Start amount is required'">
                        </app-input-field-validation>
                    </mat-form-field>
                </div>
                <div class="col-sm-4 col-lg-4 col-xs-12">
                    <mat-form-field class="global_textbox_block" appearance="outline">
                        <mat-label>Refund Amount</mat-label>
                        <input matInput required formControlName="end_amount" name="end_amount" />
                        <app-input-field-validation [className]="'bottom_error_msg'" [form]="fixedDepositForm"
                            [key]="'end_amount'" [displayMsg]="'End amount is required'">
                        </app-input-field-validation>
                    </mat-form-field>
                </div>
                <div class="col-sm-4 col-lg-4 col-xs-12">
                    <!-- <app-dropdwon key="status" field="Status"></app-dropdwon> -->
                    <app-dropdwon [optionArray]="dropdownService.status" *ngIf="fixedDepositForm"
                        [form]="fixedDepositForm" [key]="'status'" field="Status"></app-dropdwon>
                </div>
                <div class="col-sm-12">
                    <mat-form-field class="global_textarea_block" appearance="outline">
                        <mat-label>Details</mat-label>
                        <textarea matInput formControlName="details" name="details"></textarea>
                    </mat-form-field>
                </div>
            </div>
        </div>

    </form>
</div>
<div class="dialoge_button_container">
    <button class="global_close_btn" (click)="onClose()" mat-stroked-button>Close</button>
    <button class="global_submit_btn" mat-flat-button (click)="save()" *ngIf="!fixedDepositId">Submit</button>
    <button class="global_submit_btn" mat-flat-button (click)="save()" *ngIf="fixedDepositId">Update</button>
</div>