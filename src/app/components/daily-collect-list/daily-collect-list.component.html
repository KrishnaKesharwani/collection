<div class="list-containner" *ngIf='userType == 3'>
    <div class="card shadow dash-cardbox collect_money_card">
        <div class="card-header">
            <div class="row align-items-center">
                <div class="col col-sm-4 pl-1">
                    <h3 class="mb-0">Running Loan / Deposit Account List</h3>
                </div>
            </div>
        </div>
        <div class="assign_customer_container" *ngIf="loading">
            <div class="page_laoder_collection">
                <app-page-loader></app-page-loader>
            </div>
        </div>
        <div class="assign_customer_container" *ngIf="!loading">
            <ng-container *ngIf="loanData.length">
                <div class="assign_customer_block" *ngFor="let loan of loanData">
                    <ul class="list-unstyled dynamic_card_data">
                        <li class="data_head">Loan No.</li>
                        <li class="data_val">{{loan.loan_no}}</li>
                        <li class="data_head">Loan Days</li>
                        <li class="data_val">{{loan.no_of_days}}</li>
                        <li class="data_head">Loan Status</li>
                        <li class="data_val">{{loan.loan_status}}</li>
                        <li class="data_head">Loan Date</li>
                        <li class="data_val">{{loan.loan_status_change_date}}</li>
                        <li class="data_head">Collect Member</li>
                        <li class="data_val">{{loan.member.name}}</li>
                        <li class="data_head">Total Amt</li>
                        <li class="data_val">{{loan.loan_amount}}</li>
                        <li class="data_head">Total Paid</li>
                        <li class="data_val">{{loan.total_paid}}</li>
                        <li class="data_head">Pending Amt</li>
                        <li class="data_val">{{loan.remaining_amount}}</li>
                    </ul>
                    <div class="action_block">
                        <button mat-raised-button (click)="openDialogInstallmentHistory(loan)"
                            class="btn btn-sm btn-success global_submit_btn">Paid History</button>
                    </div>
                </div>
            </ng-container>
            <ng-container *ngIf="customerDepositData.length">
                <div class="assign_customer_block" *ngFor="let deposit of customerDepositData">
                    <ul class="list-unstyled dynamic_card_data">
                        <li class="data_head">Deposit No.</li>
                        <li class="data_val">{{deposit.deposit_no}}</li>
                        <li class="data_head">Status</li>
                        <li class="data_val">{{deposit.status}}</li>
                        <li class="data_head">Available Amt</li>
                        <li class="data_val">{{deposit.remaining_amount}}</li>
                        <li class="data_head">Collector Image</li>
                        <li class="data_val">
                            <div class="list_image_block">
                                <img *ngIf="deposit.member.image != null" src="{{deposit.member.image}}" />
                                <img *ngIf="deposit.member.image == null" src="assets/imgs/default-pic.png" />
                            </div>
                        </li>
                        <li class="data_head">Collect Member</li>
                        <li class="data_val">{{deposit.member.name}}</li>
                    </ul>
                    <div class="action_block">
                        <button mat-raised-button class="btn btn-sm btn-success global_submit_btn"
                            routerLink="/paid_data_entry">View Details</button>
                        <!-- <button mat-raised-button (click)="collectMoneyType('deposit')"
                            class="btn btn-sm btn-success global_submit_btn"
                            routerLink="/paid_data_entry/{{deposit.id}}">
                            <i class="mdi mdi-currency-inr"></i>Collect Money</button> -->
                    </div>
                </div>
            </ng-container>
            <div class="assign_customer_block" *ngIf="!customerDepositData.length && loanData.length">
                <app-no-record-found type="page" notext="No Deposit and Loan account available."></app-no-record-found>
            </div>
        </div>
    </div>
    <!-- View Offers / Schems Details Popup -->
    <!-- <div class="modal upload-filemodel fade" id="view_modal" tabindex="-1" role="dialog" aria-labelledby="modal-form"
        aria-hidden="true">
        <div class="modal-dialog modal- modal-dialog-centered modal-md" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Collection Details</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body p-0 bg-secondary">
                    <div class="card-body apic-lb-form-box">
                        <table class="table table-bordered table-responsive popup_table bg-white more_table">
                            <tbody>
                                <tr>
                                    <td><b>Member Name :</b></td>
                                    <td>Roshan Kanojiya</td>
                                </tr>
                                <tr>
                                    <td><b>Collect Date :</b></td>
                                    <td>12-Mar-2021</td>
                                </tr>
                                <tr>
                                    <td><b>Customer Meet :</b></td>
                                    <td>20 Customer</td>
                                </tr>
                                <tr>
                                    <td><b>Collect Amount :</b></td>
                                    <td>1500.00</td>
                                </tr>
                                <tr>
                                    <td><b>Receive Status :</b></td>
                                    <td>1,00,000.00</td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table table-bordered table-responsive popup_table bg-white more_table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Customer No.</th>
                                    <th>Time</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Manish Sahu</td>
                                    <td>Rk-101</td>
                                    <td><small>11:30 am</small></td>
                                    <td class="text-right">200</td>
                                </tr>
                                <tr>
                                    <td>Santosh Mahajan</td>
                                    <td>Rk-102</td>
                                    <td><small>12:30 am</small></td>
                                    <td class="text-right">200</td>
                                </tr>
                                <tr>
                                    <td>Vinay Sinha</td>
                                    <td>Rk-103</td>
                                    <td><small>01:30 am</small></td>
                                    <td class="text-right">200</td>
                                </tr>
                                <tr>
                                    <td>Deepak Bajaj</td>
                                    <td>Rk-104</td>
                                    <td><small>02:30 am</small></td>
                                    <td class="text-right">200</td>
                                </tr>
                                <tr>
                                    <td>Santosh</td>
                                    <td>Rk-101</td>
                                    <td><small>12:30 am</small></td>
                                    <td class="text-right">200</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <!-- Action for loan apply -->
    <!-- <div class="modal upload-filemodel fade" id="apply_loan_modal" tabindex="-1" role="dialog" aria-labelledby="modal-form"
        aria-hidden="true">
        <div class="modal-dialog modal- modal-dialog-centered modal-md" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Apply Loan</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body p-0 bg-secondary">
                    <div class="card-body apic-lb-form-box">
                        <form>
                            <div class="form-group">
                                <label class="mb-0"><small>Customer</small></label>
                                <input class="form-control" disabled type="text" value="Sanjeev Sahu" />
                            </div>
                            <div class="form-group">
                                <label class="mb-0"><small>Loan Amount</small></label>
                                <input class="form-control" type="text" value="Amount" />
                            </div>
                            <div class="form-group">
                                <label class="mb-0"><small>Money Received Details</small></label>
                                <div class="input-group login-txtbox">
                                    <textarea rows="3" class="form-control" placeholder="Enter Details"></textarea>
                                </div>
                            </div>
                            <div class="login-btnblock text-center">
                                <button data-dismiss="modal" class="btn btn-primary">Update</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
</div>
<div class="list-containner" *ngIf='userType == 2'>
    <div class="card shadow dash-cardbox collect_money_card">
        <div class="card-header">
            <div class="row align-items-center">
                <div class="col col-sm-4 pl-1">
                    <h3 class="mb-0">Assigned Customer</h3>
                </div>
                <div class="col text-right pr-1 datewith_search_block">
                    <div class="listsearch-topblock search_withaddbtn pr-0">
                        <div class="search-box">
                            <input type="search" placeholder="Search" class="searchtxt" />
                            <i class="mdi mdi-magnify"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="assign_customer_container" *ngIf="loading">
            <div class="page_laoder_collection">
                <app-page-loader></app-page-loader>
            </div>
        </div>
        <div class="assign_customer_container" *ngIf="!loading">
            <ng-container *ngIf="!memberLoanData.length && !memberDepositData.length">
                <app-no-record-found type="page" notext="No assign found"></app-no-record-found>
            </ng-container>
            <ng-container *ngIf="memberLoanData.length">
                <div class="assign_customer_block" *ngFor="let loan of memberLoanData">
                    <ul class="list-unstyled dynamic_card_data">
                        <li class="data_head">Loan No.</li>
                        <li class="data_val">{{loan.loan_no}}</li>
                        <li class="data_head">Name</li>
                        <li class="data_val">{{loan.customer.name}}</li>
                        <li class="data_head">Profile</li>
                        <li class="data_val">
                            <div class="list_image_block">
                                <img *ngIf="loan.customer.image != null" src="{{loan.customer.image}}" />
                                <img *ngIf="loan.customer.image == null" src="assets/imgs/default-pic.png" />
                            </div>
                        </li>
                        <li class="data_head">Mobile</li>
                        <li class="data_val">{{loan.customer.mobile}}</li>
                        <li class="data_head">Collection Type</li>
                        <li class="data_val">Loan</li>
                        <li class="data_head">Total Amt</li>
                        <li class="data_val">{{loan.loan_amount}}</li>
                        <li class="data_head">Pending Amt</li>
                        <li class="data_val">{{loan.remaining_amount}}</li>
                        <li class="data_head">Instalment</li>
                        <li class="data_val">{{loan.installment_amount}}</li>
                    </ul>
                    <div class="action_block">
                        <button mat-raised-button (click)="collectMoneyType('loan')"
                            class="btn btn-sm btn-success global_submit_btn" routerLink="/paid_data_entry/{{loan.id}}">
                            <i class="mdi mdi-currency-inr"></i>Collect Money</button>
                    </div>
                </div>
            </ng-container>
            <ng-container *ngIf="memberDepositData.length">
                <div class="assign_customer_block" *ngFor="let deposit of memberDepositData">
                    <ul class="list-unstyled dynamic_card_data">
                        <li class="data_head">Deposit No.</li>
                        <li class="data_val">{{deposit.deposit_no}}</li>
                        <li class="data_head">Name</li>
                        <li class="data_val">{{deposit.customer.name}}</li>
                        <li class="data_head">Profile</li>
                        <li class="data_val">
                            <div class="list_image_block">
                                <img *ngIf="deposit.customer.image != null" src="{{deposit.customer.image}}" />
                                <img *ngIf="deposit.customer.image == null" src="assets/imgs/default-pic.png" />
                            </div>
                        </li>
                        <li class="data_head">Mobile</li>
                        <li class="data_val">{{deposit.customer.mobile}}</li>
                        <li class="data_head">Collection Type</li>
                        <li class="data_val">Deposit</li>
                        <li class="data_head">Available Amt</li>
                        <li class="data_val">{{deposit.remaining_amount}}</li>
                    </ul>
                    <div class="action_block">
                        <button mat-raised-button (click)="collectMoneyType('deposit')"
                            class="btn btn-sm btn-success global_submit_btn"
                            routerLink="/paid_data_entry/{{deposit.id}}">
                            <i class="mdi mdi-currency-inr"></i>Collect Money</button>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>
</div>